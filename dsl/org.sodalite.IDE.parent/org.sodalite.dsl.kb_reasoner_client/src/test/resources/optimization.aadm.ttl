# baseURI: https://www.sodalite.eu/ontologies/exchange/optimization/
# imports: https://www.sodalite.eu/ontologies/exchange/

@prefix : <https://www.sodalite.eu/ontologies/exchange/optimization/> .
@prefix exchange: <https://www.sodalite.eu/ontologies/exchange/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

:
  rdf:type owl:Ontology ;
  owl:imports exchange: ;
  owl:versionInfo "Created by the SODALITE IDE" ;
.

:AADM_1
  rdf:type exchange:AADM ;
  exchange:userId "27827d44-0f6c-11ea-8d71-362b9e155667" ;
.

:Parameter_1
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_1
  rdf:type exchange:Input ;
  exchange:name "ssh-key-name" ;
  exchange:hasParameter :Parameter_1 ;
.
:Parameter_2
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_2
  rdf:type exchange:Input ;
  exchange:name "image-name" ;
  exchange:hasParameter :Parameter_2 ;
.
:Parameter_3
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_3
  rdf:type exchange:Input ;
  exchange:name "openstack-network-name" ;
  exchange:hasParameter :Parameter_3 ;
.
:Parameter_4
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_4
  rdf:type exchange:Input ;
  exchange:name "security-groups" ;
  exchange:hasParameter :Parameter_4 ;
.
:Parameter_5
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_5
  rdf:type exchange:Input ;
  exchange:name "flavor-name" ;
  exchange:hasParameter :Parameter_5 ;
.
:Parameter_6
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_6
  rdf:type exchange:Input ;
  exchange:name "demo-files-path" ;
  exchange:hasParameter :Parameter_6 ;
.
:Parameter_7
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_7
  rdf:type exchange:Input ;
  exchange:name "docker-registry-url" ;
  exchange:hasParameter :Parameter_7 ;
.
:Parameter_8
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_8
  rdf:type exchange:Input ;
  exchange:name "docker-network" ;
  exchange:hasParameter :Parameter_8 ;
.
:Parameter_9
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_9
  rdf:type exchange:Input ;
  exchange:name "docker-registry-cert-country-name" ;
  exchange:hasParameter :Parameter_9 ;
.
:Parameter_10
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_10
  rdf:type exchange:Input ;
  exchange:name "docker-registry-cert-organization-name" ;
  exchange:hasParameter :Parameter_10 ;
.
:Parameter_11
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_11
  rdf:type exchange:Input ;
  exchange:name "docker-registry-cert-email-address" ;
  exchange:hasParameter :Parameter_11 ;
.
:Parameter_12
  rdf:type exchange:Parameter ;
  exchange:name "type" ;
  exchange:value "string" ;
.
:Input_12
  rdf:type exchange:Input ;
  exchange:name "mysql-db-pass" ;
  exchange:hasParameter :Parameter_12 ;
.

:Parameter_13
  rdf:type exchange:Parameter ;
  exchange:name "port_range_max" ;
  exchange:value "8081" ;
.
:Parameter_14
  rdf:type exchange:Parameter ;
  exchange:name "remote_ip_prefix" ;
  exchange:value "0.0.0.0/0" ;
.
:Parameter_15
  rdf:type exchange:Parameter ;
  exchange:name "port_range_min" ;
  exchange:value "8080" ;
.
:Parameter_16
  rdf:type exchange:Parameter ;
  exchange:name "protocol" ;
  exchange:value "tcp" ;
.
:Parameter_17
  rdf:type exchange:Parameter ;
  exchange:name "port_range_min" ;
  exchange:value "80" ;
.
:Parameter_18
  rdf:type exchange:Parameter ;
  exchange:name "port_range_max" ;
  exchange:value "80" ;
.
:Parameter_19
  rdf:type exchange:Parameter ;
  exchange:name "protocol" ;
  exchange:value "tcp" ;
.
:Parameter_20
  rdf:type exchange:Parameter ;
  exchange:name "remote_ip_prefix" ;
  exchange:value "0.0.0.0/0" ;
.

:Parameter_21
  rdf:type exchange:Parameter ;
  exchange:name "component_ports" ;
  exchange:hasParameter :Parameter_13 ;
  exchange:hasParameter :Parameter_14 ;
  exchange:hasParameter :Parameter_15 ;
  exchange:hasParameter :Parameter_16 ;
.
:Parameter_22
  rdf:type exchange:Parameter ;
  exchange:name "http_port" ;
  exchange:hasParameter :Parameter_17 ;
  exchange:hasParameter :Parameter_18 ;
  exchange:hasParameter :Parameter_19 ;
  exchange:hasParameter :Parameter_20 ;
.

:Property_1
  rdf:type exchange:Property ;
  exchange:name "ports" ;
  exchange:hasParameter :Parameter_21 ;
  exchange:hasParameter :Parameter_22 ;
.
:Property_2
  rdf:type exchange:Property ;
  exchange:name "group_name" ;
  exchange:value "optimization" ;
.
:Property_3
  rdf:type exchange:Property ;
  exchange:name "group_description" ;
  exchange:value "Optimization UC security group" ;
.
:Property_4
  rdf:type exchange:Property ;
  exchange:name "key_name" ;
  exchange:value "{ get_input: ssh-key-name }" ;
.
:Property_5
  rdf:type exchange:Property ;
  exchange:name "image" ;
  exchange:value "{ get_input: image-name }" ;
.
:Property_6
  rdf:type exchange:Property ;
  exchange:name "name" ;
  exchange:value "optimization-vm_am_10" ;
.
:Property_7
  rdf:type exchange:Property ;
  exchange:name "network" ;
  exchange:value "{ get_input: openstack-network-name }" ;
.
:Property_8
  rdf:type exchange:Property ;
  exchange:name "security_groups" ;
  exchange:value "{ get_input: security-groups }" ;
.
:Property_9
  rdf:type exchange:Property ;
  exchange:name "flavor" ;
  exchange:value "{ get_input: flavor-name }" ;
.
:Property_10
  rdf:type exchange:Property ;
  exchange:name "disk_size" ;
  exchange:value "10 GB" ;
.
:Property_11
  rdf:type exchange:Property ;
  exchange:name "num_cpus" ;
  exchange:value "4" ;
.
:Property_12
  rdf:type exchange:Property ;
  exchange:name "num_gpus" ;
  exchange:value "1" ;
.
:Property_13
  rdf:type exchange:Property ;
  exchange:name "mem_size" ;
  exchange:value "4 GB" ;
.
:Property_14
  rdf:type exchange:Property ;
  exchange:name "architecture" ;
  exchange:value "x86_64" ;
.
:Property_15
  rdf:type exchange:Property ;
  exchange:name "docker_registry_url" ;
  exchange:value "{ get_input: docker-registry-url }" ;
.
:Property_16
  rdf:type exchange:Property ;
  exchange:name "alias" ;
  exchange:value "optimization-skyline-extractor" ;
.
:Property_17
  rdf:type exchange:Property ;
  exchange:name "volumes" ;
  exchange:value "/tmp/docker:/tmp" ;
.
:Property_18
  rdf:type exchange:Property ;
  exchange:name "image_name" ;
  exchange:value "optimization-skyline-extractor:latest" ;
.
:Property_19
  rdf:type exchange:Property ;
  exchange:name "ports" ;
  exchange:listValue "8080:8080" ;
.
:Property_20
  rdf:type exchange:Property ;
  exchange:name "exposed_ports" ;
  exchange:listValue "8080" ;
.
:Property_21
  rdf:type exchange:Property ;
  exchange:name "registry_url" ;
  exchange:value "{ get_input: docker-registry-url }" ;
.


:Requirement_1
  rdf:type exchange:Requirement ;
  exchange:name "protected_by" ;
  exchange:value "optimization-security-rules" ;
.
:Requirement_2
  rdf:type exchange:Requirement ;
  exchange:name "host" ;
  exchange:value "optimization-vm" ;
.
:Requirement_3
  rdf:type exchange:Requirement ;
  exchange:name "host" ;
  exchange:value "optimization-vm" ;
.
:Requirement_4
  rdf:type exchange:Requirement ;
  exchange:name "dependency" ;
  exchange:value "optimization-docker-host" ;
.
:Requirement_5
  rdf:type exchange:Requirement ;
  exchange:name "registry" ;
  exchange:value "optimization-docker-registry" ;
.

:Capability_1
  rdf:type exchange:Capability ;
  exchange:name "host" ;
  exchange:properties :Property_10 ;
  exchange:properties :Property_11 ;
  exchange:properties :Property_12 ;
  exchange:properties :Property_13 ;
.
:Capability_2
  rdf:type exchange:Capability ;
  exchange:name "os" ;
  exchange:properties :Property_14 ;
.

:Template_1
  rdf:type exchange:Template ;
  exchange:name "optimization-security-rules" ;
  exchange:type "sodalite.nodes.OpenStack.SecurityRules" ;
  exchange:properties :Property_1 ;
  exchange:properties :Property_2 ;
  exchange:properties :Property_3 ;
.  
:Template_2
  rdf:type exchange:Template ;
  exchange:name "optimization-vm" ;
  exchange:type "sodalite.nodes.optimization.VM" ;
  exchange:properties :Property_4 ;
  exchange:properties :Property_5 ;
  exchange:properties :Property_6 ;
  exchange:properties :Property_7 ;
  exchange:properties :Property_8 ;
  exchange:properties :Property_9 ;
  exchange:requirements :Requirement_1 ; 
  exchange:capabilities :Capability_1 ; 
  exchange:capabilities :Capability_2 ; 
.  
:Template_3
  rdf:type exchange:Template ;
  exchange:name "optimization-docker-host" ;
  exchange:type "sodalite.nodes.DockerHost" ;
  exchange:requirements :Requirement_2 ; 
.  
:Template_4
  rdf:type exchange:Template ;
  exchange:name "optimization-docker-registry" ;
  exchange:type "sodalite.nodes.DockerRegistry" ;
  exchange:properties :Property_15 ;
  exchange:requirements :Requirement_3 ; 
  exchange:requirements :Requirement_4 ; 
.  
:Template_5
  rdf:type exchange:Template ;
  exchange:name "optimization-skyline-extractor" ;
  exchange:type "sodalite.nodes.DockerizedComponent" ;
  exchange:optimization '{ "name": "ai_training.tensor_flow", "optimization": { "enable_opt_build": true, "enable_autotuning": true, "app_type":"ai_training", "opt_build": { "cpu_type": "arm", "acc_type": "nvidia" }, "autotuning": { "tuner": "cresta", "input": "begin parameters begin typing int NB end typing begin constraints range NB 80. 90, 100, 120, 140 end constraints end parameters begin build command: make -DNB=$NB end build begin run command: ./solver end run" }, "app_type-ai_training": { "config": {  "ai_framework": "tensorflow" ,"type": "translation" ,"distributed_training": true ,"layers": 6 ,"parameters": 872684236 }, "data": {  "location": "/some/data"  ,"basedata": "imagenet"  ,"size": 67  ,"count": 4389  } ,"ai_framework-tensorflow": {  "version": "2.1"  ,"xla": true } } } } ' ;
  exchange:properties :Property_16 ;
  exchange:properties :Property_17 ;
  exchange:properties :Property_18 ;
  exchange:properties :Property_19 ;
  exchange:properties :Property_20 ;
  exchange:properties :Property_21 ;
  exchange:requirements :Requirement_5 ; 
.  

